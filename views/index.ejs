<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>ADPanel v4</title>
<link rel="stylesheet" href="/style.css">
<script src="/socket.io/socket.io.js"></script>
</head><body>
<h1>ADPanel v4</h1>
<div class="upload">
  <input type="file" id="fileInput" accept=".zip"><button onclick="upload()">Upload ZIP</button>
  <div id="progress"><div id="bar"></div></div>
</div>
<div id="bots"></div>
<script>
function upload() {
  const file = document.getElementById('fileInput').files[0];
  const form = new FormData();
  form.append('file', file);
  const xhr = new XMLHttpRequest();
  xhr.open('POST','/upload',true);
  xhr.upload.onprogress = e => {
    const pct = (e.loaded/e.total)*100;
    document.getElementById('bar').style.width = pct+'%';
  };
  xhr.onload = () => window.location.reload();
  xhr.send(form);
}

// load bots
fetch('/').then(()=>{
  // reload full page, bots rendered server-side
});
</script></body></html>
